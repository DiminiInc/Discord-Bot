var Discord=require("discord.io"),logger=require("winston"),auth=require("./auth.json");logger.remove(logger.transports.Console),logger.add(new logger.transports.Console,{colorize:!0}),logger.level="debug";var bot=new Discord.Client({token:auth.token,autorun:!0});bot.on("ready",function(e){logger.info("Connected"),logger.info("Logged in as: "),logger.info(bot.username+" - ("+bot.id+")")}),bot.on("message",function(e,o,s,n,t){if("!"==n.substring(0,1)){var a=n.substring(1).split(" "),r=a[0];switch(a=a.splice(1),r){case"ping":bot.sendMessage({to:s,message:"Pong!"});break;case"НайдиЯойщика":bot.sendMessage({to:s,message:"Это же <@301010748145139713>"});break;case"помощь":bot.sendMessage({to:s,message:"Список команд: \n !помощь - список команд \n !НайдиЯойщика - ищет главного яойщика сервера \n !ГдеДеньгиЗин - рассчитывает дату получения первой прибыли компании"});break;case"ГдеДеньгиЗин":var g,i=new Date(2014,6,9),u=new Date,d=7.17;Math.round((u-i)/864e5*100/d);(g=new Date(u+Math.round(100*(u-i)/d))).setDate(u.getDate()+Math.round((u-i)/864e5*100/d)),bot.sendMessage({to:s,message:"Первая прибыль компании ожидается "+g.toLocaleDateString("ru-ru",{year:"numeric",month:"numeric",day:"numeric"})+" (через "+Math.round((u-i)/864e5*100/d)+" дней)\n"});break;case"ОБоте":bot.sendMessage({to:s,message:"Dimini Bot\nVersion 0.0.2\nbuild 20190324184400\nDevelopment: Dmitry Yaskovich\n"});break;default:bot.sendMessage({to:s,message:"Функционал бота сравним с прибылью компании, отстаньте от него"})}}});