var Discord=require("discord.io"),logger=require("winston"),auth=require("./auth.json");logger.remove(logger.transports.Console),logger.add(new logger.transports.Console,{colorize:!0}),logger.level="debug";var bot=new Discord.Client({token:auth.token,autorun:!0});bot.on("ready",function(e){logger.info("Connected"),logger.info("Logged in as: "),logger.info(bot.username+" - ("+bot.id+")")}),bot.on("message",function(e,o,n,s,t){if("!"==s.substring(0,1)){var a=s.substring(1).split(" "),r=a[0];switch(a=a.splice(1),r){case"ping":bot.sendMessage({to:n,message:"Pong!"});break;case"НайдиЯойщика":bot.sendMessage({to:n,message:"Это же <@301010748145139713>"});break;case"помощь":bot.sendMessage({to:n,message:"Список команд: \n !помощь - список команд \n !НайдиЯойщика - ищет главного яойщика сервера \n !ГдеДеньгиЗин - рассчитывает дату получения первой прибыли компании"});break;case"ГдеДеньгиЗин":var g,i=new Date(2014,6,9),d=new Date,u=7.17;Math.round((d-i)/864e5*100/u);(g=new Date(d+Math.round(100*(d-i)/u))).setDate(d.getDate()+Math.round((d-i)/864e5*100/u)),bot.sendMessage({to:n,message:"Первая прибыль компании ожидается "+g.toLocaleDateString("ru-ru",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+" (через "+Math.round((d-i)/864e5*100/u)+" дней)\n"});break;case"ОБоте":bot.sendMessage({to:n,message:"Dimini Bot\nVersion 0.0.2\nbuild 20190324184400\nDevelopment: Dmitry Yaskovich\n"});break;default:bot.sendMessage({to:n,message:"Функционал бота сравним с прибылью компании, отстаньте от него"})}}});