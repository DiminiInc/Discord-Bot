var Discord=require("discord.io"),logger=require("winston"),auth=require("./auth.json");logger.remove(logger.transports.Console),logger.add(new logger.transports.Console,{colorize:!0}),logger.level="debug";var bot=new Discord.Client({token:auth.token,autorun:!0});bot.on("ready",function(e){logger.info("Connected"),logger.info("Logged in as: "),logger.info(bot.username+" - ("+bot.id+")")}),bot.on("message",function(e,o,s,t,n){if("!"==t.substring(0,1)){var a=t.substring(1).split(" "),r=a[0];switch(a=a.splice(1),r){case"ping":bot.sendMessage({to:s,message:"Pong!"});break;case"НайдиЯойщика":bot.sendMessage({to:s,message:"Это же <@301010748145139713>"});break;case"помощь":bot.sendMessage({to:s,message:"Список команд: \n !помощь - список команд \n !НайдиЯойщика - ищет главного яойщика сервера \n !ГдеДеньгиЗин - рассчитывает дату получения первой прибыли компании"});break;case"ГдеДеньгиЗин":var g,i=new Date(2014,6,9),d=new Date,l=7.17;Math.round((d-i)/864e5*100/l);(g=new Date(d+Math.round(100*(d-i)/l))).setDate(d.getDate()+Math.round((d-i)/864e5*100/l)),bot.sendMessage({to:s,message:"Первая прибыль компании ожидается "+g.getDate()+"."+(g.getMonth()+1)+"."+g.getFullYear()+" (через "+Math.round((d-i)/864e5*100/l)+" дней)\n"});break;case"ОБоте":bot.sendMessage({to:s,message:"Dimini Bot\nVersion 0.0.2.1\nbuild 20190324190000\nDevelopment: Dmitry Yaskovich\n"});break;default:bot.sendMessage({to:s,message:"Функционал бота сравним с прибылью компании, отстаньте от него"})}}});